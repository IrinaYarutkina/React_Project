{"ast":null,"code":"var _jsxFileName = \"/Users/irinaarutkina/Desktop/worksIras/React_Project/React_Project/react-app/src/Context/WordsContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WordsContext = /*#__PURE__*/createContext();\nexport function WordsProvider({\n  children\n}) {\n  _s();\n  const [words, setWords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const apiBase = 'http://itgirlschool.justmakeit.ru/api/words';\n\n  // Загрузка слов\n  const fetchWords = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(apiBase);\n      if (!response.ok) throw new Error('Ошибка при получении слов');\n      const data = await response.json();\n      const normalizedData = data.map(word => ({\n        ...word,\n        id: parseInt(word.id, 10)\n      }));\n      setWords(normalizedData);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Добавление слова\n  const addWord = async newWord => {\n    try {\n      const response = await fetch(`${apiBase}/add`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newWord)\n      });\n      if (!response.ok) throw new Error('Ошибка при добавлении слова');\n      await fetchWords(); // Перезагрузка списка\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Обновление слова\n  const updateWord = async updatedWord => {\n    try {\n      const response = await fetch(`${apiBase}/${updatedWord.id}/update`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedWord)\n      });\n      if (!response.ok) throw new Error('Ошибка при обновлении слова');\n      await fetchWords(); // Перезагрузка списка\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Удаление слова\n  const deleteWord = async id => {\n    try {\n      const response = await fetch(`${apiBase}/${id}/delete`, {\n        method: 'POST'\n      });\n      if (!response.ok) throw new Error('Ошибка при удалении слова');\n      setWords(prev => prev.filter(w => w.id !== id));\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  useEffect(() => {\n    fetchWords();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(WordsContext.Provider, {\n    value: {\n      words,\n      loading,\n      error,\n      addWord,\n      updateWord,\n      deleteWord\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n_s(WordsProvider, \"OTr2bhw4K+x0cz+jpMoHEaGtUM8=\");\n_c = WordsProvider;\nvar _c;\n$RefreshReg$(_c, \"WordsProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","WordsContext","WordsProvider","children","_s","words","setWords","loading","setLoading","error","setError","apiBase","fetchWords","response","fetch","ok","Error","data","json","normalizedData","map","word","id","parseInt","err","message","addWord","newWord","method","headers","body","JSON","stringify","updateWord","updatedWord","deleteWord","prev","filter","w","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/irinaarutkina/Desktop/worksIras/React_Project/React_Project/react-app/src/Context/WordsContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from 'react';\n\nexport const WordsContext = createContext();\n\nexport function WordsProvider({ children }) {\n    const [words, setWords] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const apiBase = 'http://itgirlschool.justmakeit.ru/api/words';\n\n  // Загрузка слов\n    const fetchWords = async () => {\n        setLoading(true);\n        try {\n            const response = await fetch(apiBase);\n            if (!response.ok) throw new Error('Ошибка при получении слов');\n            const data = await response.json();\n            \n            const normalizedData = data.map(word => ({\n                ...word,\n                id: parseInt(word.id, 10), \n            }));\n\n            setWords(normalizedData);\n            setError(null);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    }; \n        \n  // Добавление слова\n    const addWord = async (newWord) => {\n    try {\n        const response = await fetch(`${apiBase}/add`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(newWord),\n        });\n        if (!response.ok) throw new Error('Ошибка при добавлении слова');\n        await fetchWords(); // Перезагрузка списка\n    } catch (err) {\n        setError(err.message);\n    }\n};\n\n\n  // Обновление слова\n  const updateWord = async (updatedWord) => {\n    try {\n        const response = await fetch(`${apiBase}/${updatedWord.id}/update`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(updatedWord),\n        });\n        if (!response.ok) throw new Error('Ошибка при обновлении слова');\n        await fetchWords(); // Перезагрузка списка\n    } catch (err) {\n        setError(err.message);\n    }\n};\n\n  // Удаление слова\n    const deleteWord = async (id) => {\n    try {\n        const response = await fetch(`${apiBase}/${id}/delete`, {\n            method: 'POST',\n        });\n        if (!response.ok) throw new Error('Ошибка при удалении слова');\n        setWords(prev => prev.filter(w => w.id !== id));\n    } catch (err) {\n        setError(err.message);\n    }\n};\n\n    useEffect(() => {\n    fetchWords();\n    }, []);\n\n    return (\n        <WordsContext.Provider value={{\n            words,\n            loading,\n            error,\n            addWord,\n            updateWord,\n            deleteWord\n        }}>\n            {children}\n        </WordsContext.Provider>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}